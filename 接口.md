# 接口文档

所有的请求头信息必须带 user 和 token ,登录时，token 为空;
接口的响应状态码遵循html状态码规则，常用的状态码解释如下：

|状态码|解释|备注|
|:---|:---|:---|
|200|正常|操作成功|
|401|认证失败|密码验证失败等|
|403|拒绝|操作被拒绝，例如重复插入数据|
|500|后台错误|后台逻辑问题，一般会附带详细的错误信息|

## 登录

- url: http://localhost:8080/user/login?code=admin&password=123456

- 参数解释

|字段|解释|备注|
|:---|:---|:---|
|code|用户账号||
|password|密码|暂时先传明文|

- header:
  
  - user:账户名
  - token:空
  
    - 响应示例
    
  ```
  {
  	"datas": {
  		"id": 2,
  		"code": "admin",
  		"name": "管理员",
  		"password": "123456",
  		"id_card": null,
  		"age": null,
  		"phone": null,
  		"role": "admin",
  		"limited_period_from": null,
  		"limited_period_to": null,
  		"surplus": null,
  		"token": "310176107251118080",
  		"last_time": "2019-04-01T11:31:20.000+0000",
  		"create_time": null
  	},
  	"message": "登录成功"
  }
  ```
  
 ## 退出
 
 - url:  http://localhost:9090/user/logout?code=admin
 
 - 参数解释
 
 |字段|解释|备注|
 |:---|:---|:---|
 |code|用户账号||
 
 - header
   - user:账户名
   - token:实际token
   
 - 响应
 
 ``` 
 {
 	"datas": null,
 	"message": "退出成功"
 }
 ```  
   
 ## 创建用户
  
  - url:   http://localhost:9090/user/create?code=teclan&name=谭炳健&password=123456&id_card=547104&phone=110
  
  - 参数解释
  
  |字段|解释|备注|
  |:---|:---|:---|
  |code|用户账号||
  |name|姓名||
  |password|密码|前端确认密码输入|
  |id_card|身份证|后台会验证唯一性|
  |phone|电话|后台会验证唯一性|
  
  - header
    - user:账户名
    - token:实际token
    
  - 响应
  
  ``` 
  {
    "datas": null,
    "message": "注册成功"
  }
  ```  
      
## 创建注册

- url:   http://localhost:9090/user/register?code=teclan&name=谭炳健&password=123456&id_card=547104&phone=110

> 同用户创建
  
  
 ## 修改用户
   
   - url:    http://localhost:9090/user/update/teclan?name=刘德华&age=25&code=tbj
   
   - 参数解释
   
   |字段|解释|备注|
   |:---|:---|:---|
   |code|用户账号||
   |name|姓名||
   |password|密码|前端确认密码输入|
   |id_card|身份证|后台会验证唯一性|
   |phone|电话|后台会验证唯一性|
   
   - header
     - user:账户名
     - token:实际token
     
   - 响应
   
   ``` 
   {
     "datas": null,
     "message": "修改成功"
   }
   ```  
  